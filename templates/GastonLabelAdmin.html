<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gaston Label Admin</title>
    <style>
        body { font-family: 'Segoe UI', Arial, sans-serif; background: #f4f7f9; color: #333; padding: 40px; }
        .container { max-width: 500px; margin: auto; background: #fff; padding: 32px; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.08); }
        h1 { color: #2c3e50; margin-bottom: 24px; }
        label { font-weight: 500; margin-bottom: 8px; display: block; }
        input[type="file"] { margin-bottom: 20px; }
        button { background: #3498db; color: #fff; border: none; border-radius: 6px; padding: 12px 20px; font-size: 16px; font-weight: 600; cursor: pointer; transition: background 0.3s; }
        button:hover { background: #2980b9; }
        .alert { margin-top: 20px; padding: 15px; border-radius: 6px; font-weight: bold; display: none; }
        .alert-success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .alert-error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Gaston Label Admin</h1>
        <label for="dymoInput">Upload Gaston .dymo Label File:</label>
        <input type="file" id="dymoInput" accept=".dymo">
        <button onclick="uploadGastonLabel()">Upload Label File</button>
        <div id="alertBox" class="alert"></div>
    </div>
    <script>
        function showAlert(message, type) {
            var alertBox = document.getElementById('alertBox');
            alertBox.textContent = message;
            alertBox.className = 'alert ' + type;
            alertBox.style.display = 'block';
        }
        function uploadGastonLabel() {
            var input = document.getElementById('dymoInput');
            if (!input.files.length) {
                showAlert('Please select a .dymo file to upload.', 'alert-error');
                return;
            }
            var file = input.files[0];
            var formData = new FormData();
            formData.append('label_file', file);
            fetch('/upload_gaston_label_template', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.message) {
                    showAlert(data.message, 'alert-success');
                    input.value = '';
                } else {
                    showAlert(data.error || 'Upload failed.', 'alert-error');
                }
            })
            .catch(e => {
                showAlert('Could not connect to the server.', 'alert-error');
                console.error('Error uploading label template:', e);
            });
        }
    </script>
</body>
</html>
